<div ng-controller="BikesController as controller">

<!-- ================== TOP NAVBAR ====================== -->
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
        Bike Builder
          <!-- <img alt="Brand" src="..."> -->
        </a>
      </div>

      <p class="navbar-text navbar-right"><a href=""><a ui-sref="home"><i class="fa fa-home" aria-hidden="true"></i> HOME</a></a></p>
    </div>
  </nav>

<!-- ============== SIDE NAVBAR ==================== -->
  <div class="choiceContainer col-md-4">

    <div class="choices col-md-3">

      <button 
        class="navChoices" 
        ng-class="{ navChoiceSelected: controller.newTab }"
        ng-click="controller.newBike()"
      >
        <i class="fa fa-star" aria-hidden="true"></i> 
        NEW
      </button>
      <button 
        class="navChoices"
        ng-class="{ navChoiceSelected: controller.completedBikesTab }"  
        ng-click="controller.showTab('completedBikesTab')"
      >
        <i class="fa fa-bicycle" aria-hidden="true"></i> 
        BIKES
      </button>
      <button 
        class="navChoices" 
        ng-class="{ navChoiceSelected: controller.partsTab }"
        ng-click="controller.showTab('partsTab')"
      >
        <i class="fa fa-wrench" aria-hidden="true"></i>
        BUILD
      </button>

      <button 
        class="navChoices" 
        ng-class="{ navChoiceSelected: controller.nameTab }"
        ng-click="controller.showTab('nameTab')"
      >
        <i class="fa fa-pencil" aria-hidden="true"></i> 
        NAME
      </button>
      <button 
        class="navChoices" 
        ng-class="{ navChoiceSelected: controller.colorTab }"
        ng-click="controller.showTab('colorTab')"
      >
        <i class="fa fa-cog" aria-hidden="true"></i> 
        COLOR
      </button>
      <button 
        class="navChoices" 
        id="save" 
        ng-click="controller.saveBike()"
      >
        <i class="fa fa-check" aria-hidden="true"></i> 
        SAVE
      </button>
    </div>
    <div class="secondChoice col-md-8">

      <ul ng-show="controller.partsTab" class="nav nav-pills">
        <li role="presentation"  ng-click="controller.getPartCategory('frame')">
          <a href="">Frames</a>
        </li>
        <li role="presentation" ng-click="controller.getPartCategory('seat')">
          <a href="">Seats</a>
        </li>
        <li role="presentation" ng-click="controller.getPartCategory('handleBar')">
          <a href="">Handlebars</a>
        </li>
        <li role="presentation" ng-click="controller.getPartCategory('wheel')">
          <a href="">Wheels</a>
        </li>
        <li role="presentation" ng-click="controller.getPartCategory('gears')">
          <a href="">Gears</a>
        </li>
      </ul>

      <div
        ng-show="controller.completedBikesTab"
        class="completedBikes" 
        ng-repeat="bike in controller.bikes" 
        ng-click="controller.selectBike(bike)" 
        >
        <i class="fa fa-bicycle" style="color: {{bike.color}}" aria-hidden="true"></i> 
        {{ bike.name }}
        <button id="delete" ng-click="controller.deleteBike(bike)"> x </button>
      </div>

        <div class="partsContainer" ng-show="controller.partsTab">
          <div class="btn {{ part.name }}" 
               data-drag="true" 
               data-jqyoui-options="{revert: 'invalid', helper: 'clone'}"
               ng-model="part" 
               jqyoui-draggable="{index: {{$index}}, animate: true, placeholder: 'keep'}"  
               ng-repeat="part in controller.parts" ng-bind-html="part.svg | to_trusted"
               style="width: 100px;">
          </div>
        </div>

      <div class="chooseNameDiv" ng-show="controller.nameTab">
        <div class="chooseName">
          Give it a name:
        </div>
        <input type="text" placeholder="e.g. SuperBike" ng-model="controller.displayedBike.name" style="color: {{controller.displayedBike.color}};">
      </div>
     
      <div class="chooseColorDiv" ng-show="controller.colorTab">
        <div class="chooseColor">Choose a Color: </div>
        <input type="color" ng-model="controller.displayedBike.color">
      </div>

      <div class="newText" ng-show="controller.newTab">
        <p>Your new bike is ready to be created!</p> 
        <p>Select the tabs below to get started, or select bikes to edit a completed bike.</p> 
        <p>You can give your new bike a name and a color, and don't forget to save!</p>
      </div>

      <div class="saveText" ng-show="controller.saveTab">
        <p>Saved!</p>
      </div>

  </div>

</div>

<!-- =========== BIKE CONTAINER ==================== -->
  <div class="col-md-8 mainContainer">
    <div id="bikeContainer">

      <div class="box" 
        data-drop="true" 
        data-jqyoui-options 
        ng-model="controller.displayedBike.frontWheel" 
        jqyoui-droppable
        style="
        position: absolute;
         width: 290px;
         height: 290px;
         top: 140px;
         left: 455px;
         border: #c0c7d6 1px solid;
         fill: {{controller.displayedBike.color}};">

        <div data-drag="false" 
          data-jqyoui-options 
          ng-model="controller.displayedBike.frontWheel" 
          jqyoui-draggable 
          ng-hide="!controller.displayedBike.frontWheel.name" 
          ng-bind-html="controller.displayedBike.frontWheel.svg | to_trusted"> 
        </div>

      </div>

      <div class="box" 
        data-drop="true" 
        data-jqyoui-options 
        ng-model="controller.displayedBike.rearWheel" 
        jqyoui-droppable
        style="
        position: absolute;
        width: 290px;
        height: 290px;
        top: 149px;
        left: 13px;
        border: #c0c7d6 1px solid;
        fill: {{controller.displayedBike.color}};">

        <div data-drag="false" 
          data-jqyoui-options 
          ng-model="controller.displayedBike.rearWheel" 
          jqyoui-draggable 
          ng-hide="!controller.displayedBike.rearWheel.name" 
          ng-bind-html="controller.displayedBike.rearWheel.svg | to_trusted">    
        </div>

      </div>

      <div class="box" 
        data-drop="true" 
        data-jqyoui-options 
        ng-model="controller.displayedBike.seat" 
        jqyoui-droppable
        style="
        position: absolute;
         width: 120px;
         height: 45px;
         top: 20px;
         left: 206px;
         border: #c0c7d6 1px solid;
         fill: {{controller.displayedBike.color}};">

        <div data-drag="false" 
          data-jqyoui-options 
          ng-model="controller.displayedBike.seat" 
          jqyoui-draggable 
          ng-hide="!controller.displayedBike.seat.name" 
          ng-bind-html="controller.displayedBike.seat.svg | to_trusted">    
        </div>

      </div>

      <div class="box" 
        data-drop="true" 
        data-jqyoui-options 
        ng-model="controller.displayedBike.crank" 
        jqyoui-droppable 
        style=' 
        width: 288px;
        height: 130px;
        top: 255px;
        left: 136px;
        position: absolute;
        border: #c0c7d6 1px solid;
        fill: {{controller.displayedBike.color}};'>

          <div data-drag="false" 
            data-jqyoui-options 
            ng-model="controller.displayedBike.crank" 
            jqyoui-draggable 
            ng-hide="!controller.displayedBike.crank.name" 
            ng-bind-html="controller.displayedBike.crank.svg | to_trusted">    
          </div>

      </div>

      <div class="box" 
        data-drop="true" 
        data-jqyoui-options 
        ng-model="controller.displayedBike.handlebars" 
        jqyoui-droppable
        style='   position: absolute;
            width: 130px;
            height: 108px;
            top: 1px;
            left: 498px;
            border: #c0c7d6 1px solid;
            fill: {{controller.displayedBike.color}};'>

          <div 
            data-drag="false" 
            data-jqyoui-options 
            ng-model="controller.displayedBike.handlebars" 
            jqyoui-draggable 
            ng-hide="!controller.displayedBike.handlebars.name"
            ng-bind-html="controller.displayedBike.handlebars.svg | to_trusted"> 
          </div>

      </div>

      <div class="box" 
        data-drop="true" 
        data-jqyoui-options 
        ng-model="controller.displayedBike.frame" 
        jqyoui-droppable
        style="
        width: 450px;
        height: 220px;
        position: absolute;
        top: 50px;
        left: 155px;
        border: #c0c7d6 1px solid;
        fill: {{controller.displayedBike.color}};">

          <div data-drag="false" 
            data-jqyoui-options 
            ng-model="controller.displayedBike.frame" 
            jqyoui-draggable 
            class="large"
            ng-hide="!controller.displayedBike.frame.name"
            ng-bind-html="controller.displayedBike.frame.svg | to_trusted"> 
          </div>

      </div>

    </div>

  </div>


</div>